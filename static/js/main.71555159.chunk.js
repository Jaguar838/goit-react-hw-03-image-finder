(this["webpackJsonpimage-finder"]=this["webpackJsonpimage-finder"]||[]).push([[0],{16:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2l45G",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__3hr02"}},18:function(e,a,t){e.exports={backdrop:"Modal_backdrop__3YLIJ",modal:"Modal_modal__D5czE"}},19:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__1H2oO"}},8:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__3-De8",SearchForm:"Searchbar_SearchForm__2YJag",SearchForm_button:"Searchbar_SearchForm_button__19R4F","SearchForm-button":"Searchbar_SearchForm-button__3B9kN",SearchForm_button_label:"Searchbar_SearchForm_button_label__3Yjj4",SearchForm_input:"Searchbar_SearchForm_input__nDekF"}},83:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var r,n=t(0),o=t.n(n),c=t(9),i=t.n(c),l=t(4),s=t(5),u=t(7),h=t(6),d=t(10),m=t(11),b=m.a.div(r||(r=Object(d.a)(["\n  width: 1280px;\n  margin: 0 auto;\n  padding: 0 20px;\n\n  @media (max-width: 1283px) {\n    width: 940px;\n  }\n\n  @media (max-width: 992px) {\n    width: 700px;\n  }\n\n  @media (max-width: 768px) {\n    width: 520px;\n  }\n\n  @media (max-width: 576px) {\n    width: 90%;\n  }\n"]))),g=t(1),p=function(e){var a=e.children;return Object(g.jsx)(b,{children:a})},j=t(8),f=t.n(j),y=t(36),S={query:""},v=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state=S,e.handleChangeSearch=function(a){var t=a.target;e.setState({query:t.value})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.query;console.log(t);var r=e.props.onSubmit;""!==t.trim()?(r(t),e.resetSearch()):y.a.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441")},e.resetSearch=function(){e.setState(S)},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.query;return Object(g.jsx)("header",{className:f.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:this.handleSubmit,className:f.a.SearchForm,children:[Object(g.jsx)("button",{type:"submit",className:f.a.SearchForm_button,children:Object(g.jsx)("span",{className:f.a.SearchForm_button_label,children:"Search"})}),Object(g.jsx)("input",{className:f.a.SearchForm_input,type:"text",placeholder:"Search images and photos",onChange:this.handleChangeSearch,value:e})]})})}}]),t}(n.Component),x=t(20),_=t(16),O=t.n(_),w=function(e){var a=e.webformatURL,t=e.tags,r=e.largeImageURL,n=e.onClickImg;return Object(g.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(g.jsx)("img",{src:a,alt:t,className:O.a.ImageGalleryItem_image,"data-source":r,onClick:n})})},I=t(17),k=t.n(I),L=t(34),C=t(12),F=t.n(C);F.a.defaults.baseURL="https://pixabay.com/api",F.a.defaults.params={key:"21828776-3a3234db6b008ce4834511463",image_type:"photo",orientation:"horizontal",per_page:12};var M,q=function(){var e=Object(L.a)(k.a.mark((function e(a){var t,r,n,o,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.searchQuery,r=void 0===t?"":t,n=a.currentPage,o=void 0===n?1:n,e.next=3,F.a.get("",{params:{q:r,page:o}});case 3:return c=e.sent,i=c.data,e.abrupt("return",i.hits);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),G=t(35),R=t.n(G),U=function(){return Object(g.jsx)(R.a,{color:"#57ba41",size:"23",type:"Rings"})},N=m.a.button(M||(M=Object(d.a)(["\n  cursor: pointer;\n  color: #7366ff;\n  font-weight: 500;\n  padding: 10px 15px;\n  border-radius: 5px;\n  background-color: rgba(115, 102, 255, 0.15);\n  transition: all 0.3s ease;\n\n  &:hover {\n    color: #fff;\n    background-color: #7366ff;\n  }\n"]))),P=function(e){var a=e.children,t=e.onClick;return Object(g.jsx)(N,{onClick:t,children:a})};P.defaultProps={children:""};var D=P,E=t(18),A=t.n(E),B=document.querySelector("#modal-root"),J=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).handleKeyDown=function(a){"Escape"===a.code&&e.props.onCloseModal()},e.handleBackdropClick=function(a){a.target===a.currentTarget&&e.props.onCloseModal()},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(g.jsx)("div",{className:A.a.backdrop,onClick:this.handleBackdropClick,children:Object(g.jsx)("div",{className:A.a.modal,children:this.props.children})}),B)}}]),t}(n.Component),z=t(19),K=t.n(z),T=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={images:[],currentPage:1,isLoading:!1,error:null,showModal:!1,largeImageURL:null},e.fetchImages=function(){var a=e.state.currentPage,t={query:e.props.query,currentPage:a};e.setState({isLoading:!0}),q(t).then((function(a){return e.setState((function(e){return{images:[].concat(Object(x.a)(e.images),Object(x.a)(a)),currentPage:e.currentPage+1}}))})).catch((function(a){return e.setState({err:a})})).finally((function(){return e.setState({isLoading:!1})}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}})),e.setState({largeImageURL:null})},e.handleModalImage=function(a){e.toggleModal(),e.setState({largeImageURL:a})},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this;e.query!==this.props.query&&this.setState({currentPage:1,images:[],error:null},(function(){return t.fetchImages()})),a.currentPage!==this.state.currentPage&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this,a=this.state,t=a.showModal,r=a.images,n=a.error,o=a.isLoading,c=a.largeImageURL,i=r.length>0;return Object(g.jsxs)(g.Fragment,{children:[o&&Object(g.jsx)(U,{}),n&&Object(g.jsx)("h2",{children:n}),n&&Object(g.jsx)("p",{className:K.a.Error,children:n}),Object(g.jsx)("ul",{className:K.a.imageGallery,children:r.map((function(a){var t=a.id,r=a.webformatURL,n=a.largeImageURL;return Object(g.jsx)(w,{webformatURL:r,onToggleModal:e.handleModalImage,largeImageURL:n},t)}))}),i&&Object(g.jsx)(D,{onClick:this.fetchImages,isLoading:o}),t&&Object(g.jsx)(J,{onCloseModal:this.toggleModal,children:Object(g.jsx)("img",{src:c,alt:""})})]})}}]),t}(n.Component),Y=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={query:""},e.handleSubmitSearchbar=function(a){e.setState({query:a})},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.query;return Object(g.jsxs)(p,{children:[Object(g.jsx)(v,{onSubmit:this.handleSubmitSearchbar}),Object(g.jsx)(T,{modalImage:e})]})}}]),t}(n.Component);t(83);i.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(Y,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.71555159.chunk.js.map